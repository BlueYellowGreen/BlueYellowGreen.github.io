---
title: 02/11 Summary
lang: ko-KR

meta:
  - name: description
    content: 부스트캠프 AI Tech 02/11 Summary
  - property: og:title
    content: 02/11 Summary
  - property: og:description
    content: 부스트캠프 AI Tech 02/11 Summary
  - property: og:image
    content: 'https://boostcamp.connect.or.kr/images/pavicon_180_v2.ico'
  - property: og:url
    content: https://leedooho.com/AI/Boostcamp-AI-Tech/0211.html
---

### 2022/02/11, 새로 알게된 점

<p class="tags">#polar_coordinate #pie_charts #missingno #squarify #pywaffle"</p>

&nbsp; 오늘은 저번주 Data Visualizatoin 에 이어서 학습한다. Polar coordinate 에서는 어떻게 시각화를 진행하는지 알아보자. 

일반적으로 Polor coordinate 는 잘 사용하지 않지만, 대표적인 두 가지 `Polar Plot` 과 `Radar Plot` 을 알아볼 것이다. 

<br>

#### Polar Plot

&nbsp; 극좌표계를 사용하는 것을 Polar Plot 이라고 한다. 극좌표계는 중심의 거리 $R$ 과 각도 $\theta$ 를 사용한다. 
<span style="color: #2454ff;">**회전**</span> 이나 <span style="color: #2454ff;">**주기성**</span> 등을 표현하기에 적합하다. 
Matplotlib 에서는 단순히 `projection = polar` 를 추가해서 사용할 수 있는데, 이는 기존에 사용했던 **Line**, **Bar**, **Scatter** 등 
**모두 적용**가능하다는 뜻이다. 

```python
fig = plt.figure()
ax = fig.add_subplot(111, projection='polar')
# ax = fig.add_subplot(111, polar=True) # polar=True 방식으로도 가능하다.
plt.show()
```

위 코드의 결과로, 다음의 그래프를 얻을 수 있다.

<img src="https://github.com/BlueYellowGreen/BlueYellowGreen.github.io/blob/main/.vuepress/public/assets/visualization/01.png?raw=true">

<br>

그리고 Polar Coordinate 를 조정하는 여러 함수가 존재한다.

- `.set_rmax()` / `.set_rmin()` &nbsp; &#10140; &nbsp; 반지름 조정
    - `.set_rmin()` 을 지정한다 하더라도 부채꼴 모양이 되는 것이 아니라, 시작 tick 이 바뀌는 개념이다.
- `.set_rticks(list)` &nbsp; &#10140; &nbsp; 리스트 값 대로 tick 범위가 형성된다.
- `.set_rlabel_position` &nbsp; &#10140; &nbsp; tick 이 적히는 위치(각도)를 조정한다.
- `.set_thetamin()` / `.set_thetamax` &nbsp; &#10140; &nbsp; 부채꼴 모양을 사용하게 해준다. 지정한 각도 범위만큼 생성된다.
    - 다만, 부채꼴 모양을 사용하면 tick 위치(각도)는 변경이 안되는 것으로 보인다.

```python
# set tick position
fig = plt.figure()
ax = fig.add_subplot(111, polar=True)

ax.set_rlabel_position(-90)  
plt.show()


# circular sector form
fig = plt.figure()
ax = fig.add_subplot(111, polar=True)

ax.set_thetamin(45)
ax.set_thetamax(135)
plt.show()
```

<img src="https://github.com/BlueYellowGreen/BlueYellowGreen.github.io/blob/main/.vuepress/public/assets/visualization/02.png?raw=true">
<img src="https://github.com/BlueYellowGreen/BlueYellowGreen.github.io/blob/main/.vuepress/public/assets/visualization/03.png?raw=true">

<br>

**scatter**, **bar**, **line**, **fill** 모두 `projection = 'polar'` 를 통해 polar plot 으로 표현할 수 있다.

<img src="https://github.com/BlueYellowGreen/BlueYellowGreen.github.io/blob/main/.vuepress/public/assets/visualization/04.png?raw=true">
<img src="https://github.com/BlueYellowGreen/BlueYellowGreen.github.io/blob/main/.vuepress/public/assets/visualization/05.png?raw=true">
<img src="https://github.com/BlueYellowGreen/BlueYellowGreen.github.io/blob/main/.vuepress/public/assets/visualization/06.png?raw=true">
<img src="https://github.com/BlueYellowGreen/BlueYellowGreen.github.io/blob/main/.vuepress/public/assets/visualization/07.png?raw=true">


물론 꼭 극좌표계로 그릴 필요는 없다. 직교 좌표계 $X$, $Y$ 를 각각 $X = R\cos\theta$, $Y = R\sin\theta$ 처럼 **변환해서 사용**해도 된다. 

<br>

#### Radar Plot

&nbsp; Polar Plot 을 좀 더 잘 사용하기 위해서 **Radar Plot** 을 사용하는 방법이 있다. 
극좌표계를 사용하는 대표적인 차트로, <span style="color: #2454ff;">**중심점을 기준으로 N개의 변수 값을 표현**</span>할 수 있다. 
이 모양이 마치 별 같아 Star Plot 으로 불리기도 한다. 
게임 속 캐릭터의 능력치 표현 등에 자주 사용되는 방식으로 익숙한 모양이다. 

다만 사용함에 있어서 주의해야 하는 점들이 있는데, 우선 <span style="color: #2454ff;">**각 feature 들이 독립적**</span>이고 
<span style="color: #2454ff;">**척도가 같아야 한다**</span>. 그리고 데이터 속에 **순서형 변수**와 **수치형 변수**가 함께 있다면 고민을 해야 한다. 
그리고 Radar Chart 속 다각형의 **면적**은 큰 의미를 가지지 않는다. 이는 <span style="color: #2454ff;">**feature 순서**</span>에 따라 달라질 수 있기 때문이다. 
그리고 <span style="color: #2454ff;">**feature 가 많아질수록 가독성이 떨어진다**</span>.

Radar Plot 을 커스텀하는 함수도 존재한다.

- `.set_thetagrids()` &nbsp; &#10140; &nbsp; 각도에 따른 그리드 및 tick label 을 변경한다.
- `.set_theta_offset()` &nbsp; &#10140; &nbsp; 시작 각도를 변경한다.

Radar Plot 을 사용하기 위해 N 개의 feature 를 사용할 지 정한 뒤, 각각의 feature 위치에 맞게 데이터 값이 적용되도록 
$\frac{2\pi}{N}i$ theta 에 데이터 값을 넣는다. 한 가지 팁으로는, 이어지는 모양의 다각형으로 그리기 위해서 
<span style="color: #2454ff;">**첫 데이터를 마지막에 또 추가**</span>시켜줘야 한다. 그런 다음 시작 각도 및 feature tick label 변경하면 다음과 같다.


```python
fig = plt.figure(figsize=(4, 4))
ax = fig.add_subplot(111, projection='polar')

values = [...data...]                              # N개의 데이터. 이 예제에서는 N=6
values.append(values[0])                           # 이어지는 N각 형을 위해 마지막에 첫 데이터 추가

ax.plot(theta, values)
ax.fill(theta, values, alpha=0.5)                  # 내부가 채워진 형태

ax.set_thetagrids([n*60 for n in range(6)], stats) # 360도 / 6개 = 60도 마다 그리드를 그림
ax.set_theta_offset(np.pi/2)                       # 첫 tick label 의 위치를 90도로 변경

plt.show()
```

<img src="https://github.com/BlueYellowGreen/BlueYellowGreen.github.io/blob/main/.vuepress/public/assets/visualization/08.png?raw=true">

<br>

<hr>

### 피어 세션

<br>

<br>

<br>

<style scoped>
.tags { color: #2454ff; }
a { color: #2454ff; }
</style>